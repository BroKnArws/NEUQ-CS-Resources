;-----输出信息-----
PUBLIC DIS
INCLUDE PACK.mac

DATAS SEGMENT COMMON 'DATA'

   P EQU 5    ;学生数
   NL EQU 15  ;NAME 完整长度
   SL EQU 4   ;SCORE 完整长度
   NL1 EQU 13 ;NAME 实际长度
   TEMP1 DB 0 ;存放实时学号
   TEMP2 DB 1

   NAMEA DB P DUP(NL1,?,NL1 DUP('$'))  ;存入5个名字且名字长度小于11
   SCOREASC DB P DUP(SL DUP('$'))   ;存入5个成绩，每个成绩（3字节）以$结尾
   RANK DW 0,1,2,3,4    ;相当于NAMEA和SCOREASC数组下标
   SCOREN DW 5 DUP(0)   ;存放数值以及排序完成的成绩
    
   X DB 3 DUP(?)   ; 存放0-255的数据
DATAS ENDS

ASSUME CS:CODES,DS:DATAS

CODES SEGMENT PUBLIC 'CODE'
	DIS PROC
	
	 PUSH_STACK
	
	 MOV BX,0
	 MOV CX,P
	 MOV TEMP2,1
	
	 ;按照RANK次序输出姓名和成绩
	 LOOPDIS:
	 ADD TEMP2,30H
	 PRINT_CHAR TEMP2
	 PRINT_CHAR ':'
	 ;计算偏移地址，输出姓名
	 MOV AX,RANK[BX]
	
	 MOV DL,NL
	 MUL DL
	 PRINT_STRING NAMEA,AX
	 LINE_BREAK
	 ENTER
	
	 ;计算偏移地址，输出成绩
	 MOV AX,RANK[BX]
	 MOV DL,SL
	 MUL DL
	 PRINT_STRING SCOREASC,AX
	 LINE_BREAK
	 ENTER
	
	 ADD BX,2
	 SUB TEMP2,30H
	 INC TEMP2
	
	 LINE_BREAK
	 ENTER
	 LOOP LOOPDIS
	
	 POP_STACK
	 RET
	
	DIS ENDP

CODES ENDS
END














